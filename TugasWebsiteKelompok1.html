<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SIDEO - Sistem Informasi Demo Online Indonesia</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            background: rgb(235, 170, 170);
            padding: 20px 40px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            margin-bottom: 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .logo-icon {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 24px;
            font-weight: bold;
        }

        .logo h1 {
            color: #333;
            font-size: 24px;
        }

        .logo p {
            color: #666;
            font-size: 12px;
        }

        .user-role {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .role-btn {
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
        }

        .role-btn.active {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
        }

        .role-btn:not(.active) {
            background: #f0f0f0;
            color: #666;
        }

        .role-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .main-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }

        .card {
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .card h2 {
            color: #333;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .card-icon {
            width: 35px;
            height: 35px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 18px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            color: #333;
            font-weight: 600;
        }

        .form-group input,
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 14px;
            transition: border 0.3s;
        }

        .form-group input:focus,
        .form-group textarea:focus,
        .form-group select:focus {
            outline: none;
            border-color: #667eea;
        }

        .form-group textarea {
            min-height: 100px;
            resize: vertical;
        }

        .btn {
            padding: 12px 30px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            font-size: 14px;
            transition: all 0.3s;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .aspirasi-item {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 15px;
            border-left: 4px solid #667eea;
        }

        .aspirasi-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .aspirasi-title {
            font-weight: 600;
            color: #333;
        }

        .aspirasi-badge {
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
        }

        .badge-ekonomi { background: #ffeaa7; color: #d63031; }
        .badge-pendidikan { background: #74b9ff; color: #0984e3; }
        .badge-kesehatan { background: #a29bfe; color: #6c5ce7; }
        .badge-infrastruktur { background: #fab1a0; color: #e17055; }
        .badge-keamanan { background: #fd79a8; color: #e84393; }

        .aspirasi-content {
            color: #666;
            font-size: 14px;
            margin-bottom: 10px;
        }

        .aspirasi-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 12px;
            color: #999;
        }

        .aspirasi-votes {
            display: flex;
            gap: 10px;
        }

        .vote-btn {
            padding: 5px 15px;
            border: 1px solid #ddd;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
            background: white;
        }

        .vote-btn:hover {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }

        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin-bottom: 20px;
        }

        .stat-card {
            background: linear-gradient(135deg, #667eea, #764ba2);
            padding: 20px;
            border-radius: 10px;
            color: white;
        }

        .stat-value {
            font-size: 36px;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 14px;
            opacity: 0.9;
        }

        .chart-container {
            background: white;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            margin-bottom: 20px;
        }

        .chart-bar {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
        }

        .chart-label {
            width: 150px;
            font-size: 14px;
            color: #333;
            font-weight: 600;
        }

        .chart-bar-bg {
            flex: 1;
            height: 30px;
            background: #f0f0f0;
            border-radius: 5px;
            overflow: hidden;
            position: relative;
        }

        .chart-bar-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea, #764ba2);
            transition: width 0.5s ease;
            display: flex;
            align-items: center;
            justify-content: flex-end;
            padding-right: 10px;
            color: white;
            font-weight: 600;
            font-size: 12px;
        }

        .polling-option {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 10px;
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid transparent;
        }

        .polling-option:hover {
            border-color: #667eea;
            background: #e8ecff;
        }

        .polling-option.selected {
            border-color: #667eea;
            background: #e8ecff;
        }

        .polling-result {
            margin-top: 10px;
        }

        .alert {
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 15px;
            font-size: 14px;
        }

        .alert-warning {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            color: #856404;
        }

        .alert-info {
            background: #d1ecf1;
            border-left: 4px solid #17a2b8;
            color: #0c5460;
        }

        .alert-success {
            background: #d4edda;
            border-left: 4px solid #28a745;
            color: #155724;
        }

        .hidden {
            display: none !important;
        }

        @media (max-width: 768px) {
            .main-content {
                grid-template-columns: 1fr;
            }
            
            .dashboard-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">
                <div class="logo-icon">üçÉ</div>
                <div>
                    <h1>SIDEO</h1>
                    <p>Sistem Informasi Demo Online Indonesia</p>
                </div>
            </div>
            <div class="user-role">
                <button class="role-btn active" onclick="switchRole('masyarakat')">üë• Masyarakat</button>
                <button class="role-btn" onclick="switchRole('pemerintah')">üèõÔ∏è Pemerintah</button>
            </div>
        </header>

        <!-- View Masyarakat -->
        <div id="view-masyarakat">
            <div class="main-content">
                <!-- Form Aspirasi -->
                <div class="card">
                    <h2><span class="card-icon">‚úçÔ∏è</span> Sampaikan Aspirasi Anda</h2>
                    <form id="form-aspirasi">
                        <div class="form-group">
                            <label>Nama Lengkap</label>
                            <input type="text" id="nama" placeholder="Masukkan nama lengkap" required>
                        </div>
                        <div class="form-group">
                            <label>Wilayah</label>
                            <select id="wilayah" required>
                                <option value="">Pilih Wilayah</option>
                                <option value="Pusat Konoha">Pusat Konoha</option>
                                <option value="Distrik Utara">Distrik Utara</option>
                                <option value="Distrik Selatan">Distrik Selatan</option>
                                <option value="Distrik Timur">Distrik Timur</option>
                                <option value="Distrik Barat">Distrik Barat</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Kategori Isu</label>
                            <select id="kategori" required>
                                <option value="">Pilih Kategori</option>
                                <option value="ekonomi">Ekonomi</option>
                                <option value="pendidikan">Pendidikan</option>
                                <option value="kesehatan">Kesehatan</option>
                                <option value="infrastruktur">Infrastruktur</option>
                                <option value="keamanan">Keamanan</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Judul Aspirasi</label>
                            <input type="text" id="judul" placeholder="Ringkasan singkat aspirasi Anda" required>
                        </div>
                        <div class="form-group">
                            <label>Detail Aspirasi</label>
                            <textarea id="detail" placeholder="Jelaskan aspirasi Anda secara detail..." required></textarea>
                        </div>
                        <button type="submit" class="btn btn-primary">Kirim Aspirasi</button>
                    </form>
                </div>

                <!-- Daftar Aspirasi -->
                <div class="card">
                    <h2><span class="card-icon">üìã</span> Aspirasi Terbaru</h2>
                    <div id="daftar-aspirasi"></div>
                </div>
            </div>

            <!-- Polling -->
            <div class="card">
                <h2><span class="card-icon">üó≥Ô∏è</span> Polling & Voting Kebijakan</h2>
                <div id="polling-container"></div>
            </div>
        </div>

        <!-- View Pemerintah -->
        <div id="view-pemerintah" class="hidden">
            <!-- Dashboard Stats -->
            <div class="dashboard-grid">
                <div class="stat-card">
                    <div class="stat-value" id="total-aspirasi">0</div>
                    <div class="stat-label">Total Aspirasi</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="aspirasi-bulan">0</div>
                    <div class="stat-label">Aspirasi Bulan Ini</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="wilayah-aktif">0</div>
                    <div class="stat-label">Wilayah Aktif</div>
                </div>
            </div>

            <!-- Alert Peringatan Dini -->
            <div class="card">
                <h2><span class="card-icon">‚ö†Ô∏è</span> Sistem Peringatan Dini</h2>
                <div id="alert-container"></div>
            </div>

            <!-- Analitik Isu -->
            <div class="chart-container">
                <h2><span class="card-icon">üìä</span> Analitik Isu Berdasarkan Kategori</h2>
                <div id="chart-kategori"></div>
            </div>

            <!-- Analitik Wilayah -->
            <div class="chart-container">
                <h2><span class="card-icon">üó∫Ô∏è</span> Analitik Aspirasi Berdasarkan Wilayah</h2>
                <div id="chart-wilayah"></div>
            </div>

            <!-- Rekomendasi Kebijakan -->
            <div class="card">
                <h2><span class="card-icon">üí°</span> Rekomendasi Kebijakan</h2>
                <div id="rekomendasi-container"></div>
            </div>
        </div>
    </div>

    <script>
        // Data Storage
        let dataAspirasi = [
            {
                id: 1,
                nama: "Naruto Uzumaki",
                wilayah: "Pusat Konoha",
                kategori: "ekonomi",
                judul: "Subsidi untuk Pedagang Ramen",
                detail: "Perlu adanya subsidi untuk pedagang ramen agar harga tetap terjangkau",
                tanggal: "2025-09-28",
                votes: 245
            },
            {
                id: 2,
                nama: "Sakura Haruno",
                wilayah: "Distrik Utara",
                kategori: "kesehatan",
                judul: "Peningkatan Fasilitas Rumah Sakit",
                detail: "Rumah sakit perlu penambahan peralatan medis modern",
                tanggal: "2025-09-27",
                votes: 189
            },
            {
                id: 3,
                nama: "Sasuke Uchiha",
                wilayah: "Distrik Timur",
                kategori: "keamanan",
                judul: "Patroli Malam di Area Pemukiman",
                detail: "Perlu ditingkatkan patroli keamanan di area pemukiman malam hari",
                tanggal: "2025-09-26",
                votes: 312
            }
        ];

        let dataPolling = [
            {
                id: 1,
                pertanyaan: "Apakah Anda setuju dengan pembangunan Akademi Ninja baru?",
                options: [
                    { text: "Sangat Setuju", votes: 450 },
                    { text: "Setuju", votes: 320 },
                    { text: "Netral", votes: 120 },
                    { text: "Tidak Setuju", votes: 50 }
                ],
                voted: false
            }
        ];

        let nextId = 4;

        // Switch Role
        function switchRole(role) {
            const buttons = document.querySelectorAll('.role-btn');
            buttons.forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');

            if (role === 'masyarakat') {
                document.getElementById('view-masyarakat').classList.remove('hidden');
                document.getElementById('view-pemerintah').classList.add('hidden');
            } else {
                document.getElementById('view-masyarakat').classList.add('hidden');
                document.getElementById('view-pemerintah').classList.remove('hidden');
                updateDashboard();
            }
        }

        // Form Aspirasi
        document.getElementById('form-aspirasi').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const aspirasi = {
                id: nextId++,
                nama: document.getElementById('nama').value,
                wilayah: document.getElementById('wilayah').value,
                kategori: document.getElementById('kategori').value,
                judul: document.getElementById('judul').value,
                detail: document.getElementById('detail').value,
                tanggal: new Date().toISOString().split('T')[0],
                votes: 0
            };

            dataAspirasi.unshift(aspirasi);
            renderAspirasi();
            this.reset();
            alert('Aspirasi berhasil dikirim!');
        });

        // Render Aspirasi
        function renderAspirasi() {
            const container = document.getElementById('daftar-aspirasi');
            container.innerHTML = dataAspirasi.slice(0, 5).map(asp => `
                <div class="aspirasi-item">
                    <div class="aspirasi-header">
                        <span class="aspirasi-title">${asp.judul}</span>
                        <span class="aspirasi-badge badge-${asp.kategori}">${asp.kategori.toUpperCase()}</span>
                    </div>
                    <div class="aspirasi-content">${asp.detail}</div>
                    <div class="aspirasi-footer">
                        <span>${asp.wilayah} ‚Ä¢ ${asp.tanggal}</span>
                        <div class="aspirasi-votes">
                            <button class="vote-btn" onclick="vote(${asp.id})">üëç ${asp.votes}</button>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        // Vote
        function vote(id) {
            const aspirasi = dataAspirasi.find(a => a.id === id);
            if (aspirasi) {
                aspirasi.votes++;
                renderAspirasi();
            }
        }

        // Render Polling
        function renderPolling() {
            const container = document.getElementById('polling-container');
            container.innerHTML = dataPolling.map(poll => `
                <div style="margin-bottom: 30px;">
                    <h3 style="color: #333; margin-bottom: 15px;">${poll.pertanyaan}</h3>
                    ${poll.options.map((opt, idx) => `
                        <div class="polling-option" onclick="votePoll(${poll.id}, ${idx})">
                            <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                                <span style="font-weight: 600;">${opt.text}</span>
                                <span style="color: #667eea; font-weight: 600;">${opt.votes} suara</span>
                            </div>
                            <div class="polling-result">
                                <div class="chart-bar-bg" style="height: 20px;">
                                    <div class="chart-bar-fill" style="width: ${(opt.votes / poll.options.reduce((a,b) => a + b.votes, 0) * 100)}%">
                                        ${Math.round(opt.votes / poll.options.reduce((a,b) => a + b.votes, 0) * 100)}%
                                    </div>
                                </div>
                            </div>
                        </div>
                    `).join('')}
                </div>
            `).join('');
        }

        // Vote Poll
        function votePoll(pollId, optIdx) {
            const poll = dataPolling.find(p => p.id === pollId);
            if (poll && !poll.voted) {
                poll.options[optIdx].votes++;
                poll.voted = true;
                renderPolling();
            }
        }

        // Update Dashboard
        function updateDashboard() {
            // Stats
            document.getElementById('total-aspirasi').textContent = dataAspirasi.length;
            document.getElementById('aspirasi-bulan').textContent = dataAspirasi.filter(a => {
                const date = new Date(a.tanggal);
                const now = new Date();
                return date.getMonth() === now.getMonth();
            }).length;
            
            const wilayahUnique = [...new Set(dataAspirasi.map(a => a.wilayah))];
            document.getElementById('wilayah-aktif').textContent = wilayahUnique.length;

            // Chart Kategori
            const kategoriCount = {};
            dataAspirasi.forEach(a => {
                kategoriCount[a.kategori] = (kategoriCount[a.kategori] || 0) + 1;
            });

            const maxKategori = Math.max(...Object.values(kategoriCount));
            document.getElementById('chart-kategori').innerHTML = Object.entries(kategoriCount)
                .sort((a, b) => b[1] - a[1])
                .map(([kat, count]) => `
                    <div class="chart-bar">
                        <div class="chart-label">${kat.charAt(0).toUpperCase() + kat.slice(1)}</div>
                        <div class="chart-bar-bg">
                            <div class="chart-bar-fill" style="width: ${(count/maxKategori*100)}%">${count}</div>
                        </div>
                    </div>
                `).join('');

            // Chart Wilayah
            const wilayahCount = {};
            dataAspirasi.forEach(a => {
                wilayahCount[a.wilayah] = (wilayahCount[a.wilayah] || 0) + 1;
            });

            const maxWilayah = Math.max(...Object.values(wilayahCount));
            document.getElementById('chart-wilayah').innerHTML = Object.entries(wilayahCount)
                .sort((a, b) => b[1] - a[1])
                .map(([wil, count]) => `
                    <div class="chart-bar">
                        <div class="chart-label">${wil}</div>
                        <div class="chart-bar-bg">
                            <div class="chart-bar-fill" style="width: ${(count/maxWilayah*100)}%">${count}</div>
                        </div>
                    </div>
                `).join('');

            // Alerts
            const highVotes = dataAspirasi.filter(a => a.votes > 200);
            let alerts = '';
            if (highVotes.length > 0) {
                alerts += `<div class="alert alert-warning">‚ö†Ô∏è Terdapat ${highVotes.length} aspirasi dengan dukungan tinggi (>200 votes) yang memerlukan perhatian segera.</div>`;
            }
            alerts += `<div class="alert alert-info">‚ÑπÔ∏è Total ${dataAspirasi.length} aspirasi telah terkumpul. Sistem berjalan normal.</div>`;
            document.getElementById('alert-container').innerHTML = alerts;

            // Rekomendasi
            const topKategori = Object.entries(kategoriCount).sort((a, b) => b[1] - a[1])[0];
            const topWilayah = Object.entries(wilayahCount).sort((a, b) => b[1] - a[1])[0];
            
            document.getElementById('rekomendasi-container').innerHTML = `
                <div class="alert alert-success">
                    <strong>üìå Fokus Utama:</strong> Kategori ${topKategori[0]} mendapat perhatian tertinggi dengan ${topKategori[1]} aspirasi.
                </div>
                <div class="alert alert-info">
                    <strong>üó∫Ô∏è Wilayah Prioritas:</strong> ${topWilayah[0]} menunjukkan aktivitas partisipasi tertinggi dengan ${topWilayah[1]} aspirasi.
                </div>
                <div class="alert alert-warning">
                    <strong>üí° Rekomendasi:</strong> Disarankan untuk melakukan dialog langsung dengan masyarakat di ${topWilayah[0]} terkait isu ${topKategori[0]}.
                </div>
            `;
        }

        // Initialize
        renderAspirasi();
        renderPolling();
    </script>
</body>
</html>